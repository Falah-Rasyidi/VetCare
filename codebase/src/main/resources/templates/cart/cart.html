<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}" lang="en">

<head>
    <meta charset="utf-8">
    <title>Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link th:href="@{/css/cart/cart.css}" rel="stylesheet"/>
    <link th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>

<body>
<div class="page-container" layout:fragment="content">
    <h1>My Cart</h1>
    <hr/>
    <div class="cart-container">
        <div class="cart-entries">
            <div class="cart-entry" th:each="prescription : ${userPrescriptions}">
                <h4><span th:text="${prescription.getMedicineName()}"></span> ($<span th:text="${prescription.getPrice()}"></span>)</h4>
                <hr/>
                <div>
                    <strong><p>Description</p></strong>
                    <h6><span th:text="${prescription.getDescription()}"></span></h6>
                </div>

                <div>
                    <strong><p>Instructions</p></strong>
                    <h6><span th:text="${prescription.getInstructions()}"></span></h6>
                </div>

                <div>
                    <strong><p>Dosage</p></strong>
                    <h6><span th:text="${prescription.getDosage()}"></span></h6>
                </div>
                <hr/>
                Quantity: <span th:text="${prescription.getQuantity()}"></span>, Total: $<span th:text="${prescription.getPrice()} * ${prescription.getQuantity()}"></span>
            </div>
        </div>
        <div class="cart-buy">
            <h2>Purchase Summary</h2>
            <hr/>
            <h4>Price: $<span th:text="${subtotal}"></span></h4>
            <h4>Discount: $0</h4>
            <h4>Taxes: Calculated at check out</h4>
            <hr/>
            <h4>Subtotal: $<span th:text="${subtotal}"></span></h4>
            <a th:href="@{/checkout}"><button class="btn btn-primary">Proceed to checkout</button></a>
        </div>
    </div>
</div>
</body>
</html>